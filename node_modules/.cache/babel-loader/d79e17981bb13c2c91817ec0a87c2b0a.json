{"ast":null,"code":"import SidebarLayoutVue from \"@/layouts/SidebarLayout.vue\";\nimport api from '@/services/api.ts';\nexport default {\n  name: \"FormList\",\n  components: {\n    SidebarLayoutVue\n  },\n  props: {\n    title: String,\n    field_produto: [],\n    field_quantidade: Number,\n    tableHeader: [],\n    tableItems: [],\n    User: {\n      props: ['id'],\n\n      mounted() {\n        {\n          this.getProducts();\n        }\n      }\n\n    }\n  },\n\n  data() {\n    return {\n      pageCount: 0,\n      pageNumber: 0\n    };\n  },\n\n  methods: {\n    async getProducts() {\n      await api.get(`/Products`).then(response => {\n        this.field_produto = response.data;\n      }).catch(error => {\n        console.log(error.response);\n      });\n    },\n\n    onInsertItem() {\n      this.$router.push('/Cart');\n    },\n\n    async onDeleteItem(item) {\n      await api.delete(`/${this.tabela}/${item.Id}`).then(response => {}).catch(error => {\n        console.log(error.response);\n      });\n      this.tableItems.splice(this.tableItems.findIndex(f => f == item), 1);\n    }\n\n  }\n};","map":{"version":3,"mappings":"AAiGA;AACA;AAEA;EACAA,gBADA;EAEAC;IACAC;EADA,CAFA;EAKAC;IACAC,aADA;IAEAC,iBAFA;IAGAC,wBAHA;IAIAC,eAJA;IAKAC,cALA;IAMAC;MACAN,aADA;;MAEAO;QACA;UACA;QACA;MACA;;IANA;EANA,CALA;;EAoBAC;IACA;MACAC,YADA;MAEAC;IAFA;EAIA,CAzBA;;EA0BAC;IAEA;MACA,2BACAC,IADA,CACAC;QACA;MACA,CAHA,EAIAC,KAJA,CAIAC;QACAC;MACA,CANA;IAOA,CAVA;;IAYAC;MAEA;IACA,CAfA;;IAgBA;MACA,+CACAL,IADA,CACAC,aACA,CAFA,EAGAC,KAHA,CAGAC;QACAC;MACA,CALA;MAMA;IACA;;EAxBA;AA1BA","names":["name","components","SidebarLayoutVue","props","title","field_produto","field_quantidade","tableHeader","tableItems","User","mounted","data","pageCount","pageNumber","methods","then","response","catch","error","console","onInsertItem"],"sourceRoot":"src/components","sources":["FormList.vue"],"sourcesContent":["<template>\r\n  <sidebar-layout-vue>\r\n    <v-container class=\"fill-height flex-column\">\r\n        <v-card :width=\"800\"\r\n          height=\"100%\"\r\n          max-height=\"600\"\r\n          class=\"mx-auto\"\r\n          outilined\r\n          elevation=\"3\">\r\n          <v-container>\r\n            <!--CABEÇALHO-->\r\n            <v-row dense>\r\n              <v-col cols=\"12\">\r\n                <v-toolbar flat\r\n                        rounded\r\n                        dense\r\n                        class=\"blue-grey lighten-4\">\r\n                  <v-toolbar-title class=\"font-weight-medium\">{{title}}</v-toolbar-title> \r\n                </v-toolbar>\r\n              </v-col>\r\n            </v-row>\r\n            <!--ITEMS-->\r\n            <v-row dense>\r\n              <v-col>\r\n                <v-data-table no-data-text=\"Nenhum Registro Disponível\"\r\n                              no-results-text=\"Nenhum Registro Encontrado\"\r\n                              dense\r\n                              fixed-header\r\n                              height=\"352px\"\r\n                              class=\"elevation-3\"\r\n                              item-key=\"Id\"\r\n                              single-select\r\n                              hide-default-footer\r\n                              :headers=\"tableHeader\"\r\n                              :items=\"tableItems\"\r\n                              :items-per-page=\"10\">\r\n                  <template v-slot:item.actions=\"{item}\">\r\n                      <v-tooltip bottom color=\"primary\">\r\n                        <template v-slot:activator=\"{on, attrs}\">\r\n                          <v-icon small\r\n                              color=\"primary\"\r\n                              v-bind=\"attrs\"\r\n                              v-on=\"on\"\r\n                              class=\"mr-2\"\r\n                              :disabled=\"false\"\r\n                              @click=\"onDeleteItem(item)\">\r\n                              mdi-delete\r\n                          </v-icon>\r\n                        </template>\r\n                        <span>Excluir</span>\r\n                      </v-tooltip>\r\n                  </template>\r\n                </v-data-table>\r\n              </v-col>\r\n            </v-row>\r\n            <v-row>\r\n              <v-col cols=\"7\"\r\n                style=\"display: inline-block\">\r\n                <v-select label=\"Produtos\"\r\n                          v-model=\"field_produto\"\r\n                          item-value=\"id\"\r\n                          item-text=\"name\"\r\n                          :items=\"field_produto\"\r\n                          return-object>\r\n                </v-select>\r\n              </v-col>\r\n              <v-col cols=\"4\"\r\n                style=\"display: inline-block\">\r\n                <v-text-field label=\"Quantidade\"\r\n                          v-model=\"field_quantidade\"\r\n                          :value=\"field_quantidade = (field_quantidade == null) ? 0 :  field_quantidade\"\r\n                          return-object>\r\n                </v-text-field>\r\n              </v-col>\r\n              <v-col cols=\"1\">\r\n                <v-btn icon\r\n                       color=\"primary\"\r\n                       @click=\"onInsertItem\">\r\n                       <v-icon>mdi-file-plus</v-icon>\r\n                </v-btn>\r\n              </v-col>\r\n            </v-row>\r\n            <v-row dense justify=\"center\">\r\n              <v-pagination v-if=\"pageCount>0\"\r\n                    v-model=\"pageNumber\"\r\n                    circle\r\n                    prev-icon=\"mdi-menu-left\"\r\n                    next-icon=\"mdi-menu-right\"\r\n                    :length=\"pageCount\"></v-pagination>\r\n            </v-row>\r\n          </v-container>\r\n        </v-card>\r\n    </v-container>\r\n  </sidebar-layout-vue>\r\n</template>\r\n\r\n<script>\r\nimport SidebarLayoutVue from \"@/layouts/SidebarLayout.vue\";\r\nimport api from '@/services/api.ts';\r\n\r\nexport default {\r\n  name:\"FormList\",\r\n  components: {\r\n    SidebarLayoutVue\r\n  },\r\n  props: {\r\n      title: String,\r\n      field_produto: [],\r\n      field_quantidade: Number,\r\n      tableHeader: [],\r\n      tableItems: [],\r\n      User:{\r\n        props:['id'],\r\n        mounted() {\r\n          {\r\n            this.getProducts();\r\n          }\r\n        },\r\n      }\r\n  },\r\n  data() {\r\n    return {\r\n      pageCount: 0,\r\n      pageNumber: 0\r\n    }\r\n  },\r\n  methods:{\r\n\r\n    async getProducts(){\r\n      await api.get(`/Products`)\r\n            .then((response) => {\r\n              this.field_produto = response.data;\r\n            })\r\n            .catch((error) => {\r\n              console.log(error.response)\r\n            })\r\n    },\r\n\r\n    onInsertItem(){\r\n      \r\n      this.$router.push('/Cart');\r\n    },\r\n    async onDeleteItem(item){\r\n      await api.delete(`/${this.tabela}/${item.Id}`)\r\n            .then((response) => {\r\n            })\r\n            .catch((error) => {\r\n              console.log(error.response)\r\n            })\r\n      this.tableItems.splice(this.tableItems.findIndex(f => f==item),1);      \r\n    }\r\n    \r\n    },\r\n  \r\n\r\n}\r\n\r\n</script>\r\n"]},"metadata":{},"sourceType":"module"}