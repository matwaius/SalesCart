{"ast":null,"code":"import SidebarLayoutVue from \"@/layouts/SidebarLayout.vue\";\nimport api from '@/services/api.ts';\nexport default {\n  name: \"FormList\",\n  components: {\n    SidebarLayoutVue\n  },\n  props: {\n    title: String,\n    field_produto: [],\n    produtos: [],\n    field_quantidade: Number,\n    field_obs: \"\",\n    tableHeader: [],\n    tableItems: []\n  },\n\n  data() {\n    return {\n      pageCount: 0,\n      pageNumber: 0\n    };\n  },\n\n  mounted() {\n    this.getProducts();\n    this.tableItems = [{\n      id: 1,\n      name: \"teste\",\n      quantity: 1,\n      unit_price: 1,\n      total_price: 1\n    }];\n  },\n\n  methods: {\n    async getProducts() {\n      await api.get(`/Product`).then(response => {\n        this.produtos = response.data;\n        console.log(this.produtos);\n      }).catch(error => {\n        console.log(error.response);\n      });\n    },\n\n    onInsertItem() {\n      this.tableItems.push({\n        id: this.field_produto.id,\n        name: this.field_produto.name,\n        quantity: this.field_quantidade,\n        unit_price: this.field_produto.price,\n        total_price: this.field_quantidade * this.field_produto.price\n      });\n      this.$router.push('/Cart');\n    },\n\n    async onDeleteItem(item) {\n      this.tableItems.splice(this.tableItems.findIndex(f => f == item), 1);\n    }\n\n  }\n};","map":{"version":3,"mappings":"AA2HA;AACA;AAEA;EACAA,gBADA;EAEAC;IACAC;EADA,CAFA;EAKAC;IACAC,aADA;IAEAC,iBAFA;IAGAC,YAHA;IAIAC,wBAJA;IAKAC,aALA;IAMAC,eANA;IAOAC;EAPA,CALA;;EAeAC;IACA;MACAC,YADA;MAEAC;IAFA;EAIA,CApBA;;EAqBAC;IACA;IACA;MACAC,KADA;MACAf,aADA;MACAgB,WADA;MACAC,aADA;MACAC;IADA;EAEA,CAzBA;;EA0BAC;IACA;MACA,0BACAC,IADA,CACAC;QACA;QACAC;MACA,CAJA,EAKAC,KALA,CAKAC;QACAF;MACA,CAPA;IAQA,CAVA;;IAWAG;MACA;QAAAV;QACAf,6BADA;QAEAgB,+BAFA;QAGAC,oCAHA;QAIAC;MAJA;MAKA;IACA,CAlBA;;IAmBA;MACA;IACA;;EArBA;AA1BA","names":["name","components","SidebarLayoutVue","props","title","field_produto","produtos","field_quantidade","field_obs","tableHeader","tableItems","data","pageCount","pageNumber","mounted","id","quantity","unit_price","total_price","methods","then","response","console","catch","error","onInsertItem"],"sourceRoot":"src/components","sources":["FormList.vue"],"sourcesContent":["<template>\r\n  <sidebar-layout-vue>\r\n    <v-container class=\"fill-height flex-column\">\r\n        <v-card :width=\"800\"\r\n          height=\"100%\"\r\n          max-height=\"600\"\r\n          class=\"mx-auto\"\r\n          outilined\r\n          elevation=\"3\">\r\n          <v-container>\r\n            <!--CABEÇALHO-->\r\n            <v-row dense>\r\n              <v-col cols=\"12\">\r\n                <v-toolbar flat\r\n                        rounded\r\n                        dense\r\n                        class=\"blue-grey lighten-4\">\r\n                  <v-toolbar-title class=\"font-weight-medium\">{{title}}</v-toolbar-title> \r\n                </v-toolbar>\r\n              </v-col>\r\n            </v-row>\r\n            <!--ITEMS-->\r\n            <v-row dense>\r\n              <v-col>\r\n                <v-data-table no-data-text=\"Nenhum Registro Disponível\"\r\n                              no-results-text=\"Nenhum Registro Encontrado\"\r\n                              dense\r\n                              fixed-header\r\n                              height=\"352px\"\r\n                              class=\"elevation-3\"\r\n                              item-key=\"Id\"\r\n                              single-select\r\n                              hide-default-footer\r\n                              :headers=\"tableHeader\"\r\n                              :items=\"tableItems\"\r\n                              :items-per-page=\"10\">\r\n                  <template v-slot:item.actions=\"{item}\">\r\n                      <v-tooltip bottom color=\"primary\">\r\n                        <template v-slot:activator=\"{on, attrs}\">\r\n                          <v-icon small\r\n                              color=\"primary\"\r\n                              v-bind=\"attrs\"\r\n                              v-on=\"on\"\r\n                              class=\"mr-2\"\r\n                              :disabled=\"false\"\r\n                              @click=\"onDeleteItem(item)\">\r\n                              mdi-delete\r\n                          </v-icon>\r\n                        </template>\r\n                        <span>Excluir</span>\r\n                      </v-tooltip>\r\n                  </template>\r\n                </v-data-table>\r\n              </v-col>\r\n            </v-row>\r\n            <v-row>\r\n              <v-col cols=\"7\"\r\n                style=\"display: inline-block\">\r\n                <v-select label=\"Produtos\"\r\n                          v-model=\"field_produto\"\r\n                          item-value=\"id\"\r\n                          item-text=\"name\"\r\n                          :items=\"produtos\"\r\n                          return-object>\r\n                </v-select>\r\n              </v-col>\r\n              <v-col cols=\"4\"\r\n                style=\"display: inline-block\">\r\n                <v-text-field label=\"Quantidade\"\r\n                          v-model=\"field_quantidade\"\r\n                          :value=\"field_quantidade = (field_quantidade == null) ? 0 :  field_quantidade\">\r\n                </v-text-field>\r\n              </v-col>\r\n              <v-col cols=\"1\">\r\n                <v-btn icon\r\n                       color=\"primary\"\r\n                       @click=\"onInsertItem\">\r\n                       <v-icon>mdi-file-plus</v-icon>\r\n                </v-btn>\r\n              </v-col>\r\n            </v-row>\r\n            <v-row>\r\n              <v-col cols=\"6\"\r\n                style=\"display: inline-block\">\r\n                <v-text-field label=\"Observação\"\r\n                          v-model=\"field_obs\"\r\n                          :value=\"field_obs = (field_obs == null) ? '' :  field_obs\">\r\n                </v-text-field>\r\n              </v-col>\r\n              <v-col cols=\"2\"\r\n                style=\"display: inline-block\">\r\n                <v-text-field label=\"Total\"\r\n                          v-model=\"field_total\"\r\n                          :value=\"field_total = (field_total == null) ? 0 :  field_total\">\r\n                </v-text-field>\r\n              </v-col>\r\n              <v-col cols=\"4\">\r\n                \r\n                <v-btn color=\"success\"\r\n                       small\r\n                       elevation=\"5\"\r\n                       style=\"margin: 0 15px\"\r\n                       @click=\"onSave\">\r\n                       <v-icon left> mdi-checkbox-marked-circle</v-icon>\r\n                       Finalizar Pedido\r\n                </v-btn>\r\n              </v-col>\r\n            </v-row>\r\n            <v-row dense justify=\"center\">\r\n              <v-pagination v-if=\"pageCount>0\"\r\n                    v-model=\"pageNumber\"\r\n                    circle\r\n                    prev-icon=\"mdi-menu-left\"\r\n                    next-icon=\"mdi-menu-right\"\r\n                    :length=\"pageCount\"></v-pagination>\r\n            </v-row>\r\n          </v-container>\r\n        </v-card>\r\n    </v-container>\r\n  </sidebar-layout-vue>\r\n</template>\r\n\r\n<script>\r\nimport SidebarLayoutVue from \"@/layouts/SidebarLayout.vue\";\r\nimport api from '@/services/api.ts';\r\n\r\nexport default {\r\n  name:\"FormList\",\r\n  components: {\r\n    SidebarLayoutVue\r\n  },\r\n  props: {\r\n      title: String,\r\n      field_produto: [],\r\n      produtos: [],\r\n      field_quantidade: Number,\r\n      field_obs:\"\",\r\n      tableHeader: [],\r\n      tableItems: [],\r\n        \r\n  },\r\n  data() {\r\n    return {\r\n      pageCount: 0,\r\n      pageNumber: 0\r\n    }\r\n  },\r\n  mounted() {\r\n      this.getProducts();\r\n      this.tableItems= [{\r\n        id:1 ,name:\"teste\",quantity:1,unit_price:1,total_price:1}];\r\n  },\r\n  methods:{\r\n    async getProducts(){\r\n      await api.get(`/Product`)\r\n            .then((response) => {\r\n              this.produtos = response.data;\r\n              console.log(this.produtos)\r\n            })\r\n            .catch((error) => {\r\n              console.log(error.response)\r\n            })\r\n    },\r\n    onInsertItem(){\r\n        this.tableItems.push({id:this.field_produto.id,\r\n                              name:this.field_produto.name,\r\n                              quantity:this.field_quantidade,\r\n                              unit_price:this.field_produto.price,\r\n                              total_price:this.field_quantidade * this.field_produto.price})\r\n        this.$router.push('/Cart');\r\n    },\r\n    async onDeleteItem(item){\r\n        this.tableItems.splice(this.tableItems.findIndex(f => f==item),1);      \r\n    }\r\n  },\r\n  \r\n\r\n}\r\n\r\n</script>\r\n"]},"metadata":{},"sourceType":"module"}